(()=>{var e={300:()=>{class e extends HTMLElement{constructor(){super()}connectedCallback(){this.resolveElements(),this.addListeners()}resolveElements(){this.checkbox=this.querySelector('input[type="checkbox"]'),this.delete=this.querySelector("a.delete")}addListeners(){this.checkbox.addEventListener("click",e=>{const t=e.target.dataset.id;this.dispatchEvent(new CustomEvent("toggleTaskStatus",{bubbles:!0,detail:{id:t}}))}),this.delete.addEventListener("click",e=>{e.preventDefault();const t=e.target.closest("a");if(t){const e=t.dataset.id;this.dispatchEvent(new CustomEvent("deleteTask",{bubbles:!0,detail:{id:e}}))}})}}customElements.define("task-entry",e)},336:()=>{class e extends HTMLElement{constructor(){super()}connectedCallback(){this.resolveElements(),this.addListeners()}resolveElements(){this.inputfield=this.querySelector(".taskinputfield")}addListeners(){this.inputfield.addEventListener("keydown",e=>{const t=e.target;if("Enter"===e.key){if(e.shiftKey)return;e.preventDefault();const n=""===t.textContent.replace(/\s+/g,""),s=t.dataset.id;if(s)return void(n?this.dispatchEvent(new CustomEvent("deleteTask",{bubbles:!0,detail:{id:s}})):this.dispatchEvent(new CustomEvent("updateTask",{bubbles:!0,detail:{task:this.sanitize(t.innerHTML),id:s}})));if(n)return;this.dispatchEvent(new CustomEvent("createTask",{bubbles:!0,detail:{task:this.sanitize(t.innerHTML)}})),t.innerHTML=""}}),this.inputfield.addEventListener("paste",e=>{const t=e.target;setTimeout(()=>{const e=this.sanitize(t.innerHTML);t.innerHTML=e},10)})}sanitize(e){return e.replace(/<(?!br\s*\/?)[^>]+>/gi,"")}}customElements.get("task-input")||customElements.define("task-input",e)}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}(()=>{"use strict";let e;n(300),n(336);const t=t=>e.findIndex(e=>e.id===Number(t)),s=()=>i(),i=()=>(e=JSON.parse(localStorage.getItem("tasks"))||[],e),a=()=>{try{localStorage.setItem("tasks",JSON.stringify(e))}catch(e){alert("Sorry, data storage failed: "+e.message)}return i()},r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},o=([e,t,n])=>{const s=document.createElementNS("http://www.w3.org/2000/svg",e);return Object.keys(t).forEach(e=>{s.setAttribute(e,String(t[e]))}),n?.length&&n.forEach(e=>{const t=o(e);s.appendChild(t)}),s},d=e=>"string"==typeof e?e:e&&e.class?e.class&&"string"==typeof e.class?e.class.split(" "):e.class&&Array.isArray(e.class)?e.class:"":"",c=(e,{nameAttr:t,icons:n,attrs:s})=>{const i=e.getAttribute(t);if(null==i)return;const a=n[i.replace(/(\w)(\w*)(_|-|\s*)/g,(e,t,n)=>t.toUpperCase()+n.toLowerCase())];if(!a)return console.warn(`${e.outerHTML} icon name was not found in the provided icons object.`);const c=(e=>Array.from(e.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}))(e),l={...r,"data-lucide":i,...s,...c},u=["lucide",`lucide-${i}`,c,s].flatMap(d).map(e=>e.trim()).filter(Boolean).filter((e,t,n)=>n.indexOf(e)===t).join(" ");u&&Object.assign(l,{class:u});const h=((e,t={})=>{const n={...r,...t};return o(["svg",n,e])})(a,l);return e.parentNode?.replaceChild(h,e)},l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],u=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],h=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8"}],["path",{d:"M5 8h14"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0"}],["path",{d:"m12 8 1-6h2"}]],p=e=>{const t=document.querySelector("ul#opentaskslist"),n=document.querySelector("#closedtaskslist"),s=document.querySelector("#noopentasks");if(t.innerHTML="",n.innerHTML="",e&&e.length>0){const i=e.filter(e=>!e.done),a=e.filter(e=>e.done);i.length>0?(s.classList.add("hidden"),i.forEach(e=>m(t,e))):s.classList.remove("hidden"),a.length>0&&a.forEach(e=>m(n,e))}else s.classList.remove("hidden");(({icons:e={},nameAttr:t="data-lucide",attrs:n={}}={})=>{if(!Object.values(e).length)throw new Error("Please provide an icons object.\nIf you want to use all the icons you can import it like:\n `import { createIcons, icons } from 'lucide';\nlucide.createIcons({icons});`");if("undefined"==typeof document)throw new Error("`createIcons()` only works in a browser environment.");const s=document.querySelectorAll(`[${t}]`);if(Array.from(s).forEach(s=>c(s,{nameAttr:t,icons:e,attrs:n})),"data-lucide"===t){const t=document.querySelectorAll("[icon-name]");t.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(t).forEach(t=>c(t,{nameAttr:"icon-name",icons:e,attrs:n})))}})({icons:{X:l,Plus:u,CupSoda:h}})},m=(e,t)=>{const n=document.createElement("li");n.innerHTML=`\n            <task-entry>\n                <div>\n                    <input type="checkbox" data-id="${t.id}" ${t.done?"checked":""}>\n                </div>\n                <task-input class="grow">\n                    <div data-id="${t.id}" class="taskinputfield" contenteditable></div>\n                </task-input>\n                <div>\n                    <a href="#" data-id="${t.id}" class="delete"><i data-lucide="x"></i></a>\n                </div>\n            </task-entry>\n            `,n.querySelector(".taskinputfield").innerHTML=t.task,e.prepend(n)};function f(){(()=>{document.addEventListener("toggleTaskStatus",n=>{p((n=>{const s=t(n);if(!(s<0))return e[s].done=!e[s].done,a()})(n.detail.id))}),document.addEventListener("deleteTask",n=>{p((n=>{const s=t(n);if(!(s<0))return e.splice(s,1),a()})(n.detail.id))}),document.addEventListener("createTask",t=>{var n;p((n=t.detail.task,e.push({id:Date.now(),task:n,done:!1}),a()))}),document.addEventListener("updateTask",n=>{p(((n,s)=>{const i=t(s);if(!(i<0))return e[i].task=n,a()})(n.detail.task,n.detail.id))}),window.addEventListener("storage",()=>{p(s())});const n=s();n&&p(n)})()}window.addEventListener("DOMContentLoaded",()=>{f()})})()})();